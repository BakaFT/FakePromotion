var D=[{matcher:"leagues-promotion-vignette-v2-component",mixin:(e,t)=>({spoofingEnabled:!0,shouldShowProfileIcon:!0,customSummonerName:"PROMOTION DISPLAY NAME",summonerIconId:-9999999,customSummonerIconUrl:"",didRender(){this.get("spoofingEnabled")&&(this.get("customSummonerName")!==""&&this.set("labelText",this.get("customSummonerName")),this.get("customSummonerIconUrl")!==""?this.set("profileIconPath",this.get("customSummonerIconUrl")):this.get("summonerIconId")!=-9999999&&this.set("profileIconPath",`/lol-game-data/assets/v1/profile-icons/${this.get("summonerIconId")}.jpg`))}})}],L=[...D];var K=[{matcher:"/lol-ranked/v1/notifications",preSend:e=>{},postSend:e=>{e.response='[{"tier":"CHALLENGER","displayType":"VIGNETTE","msgId":"12322224","notifyReason":"LEAGUE_PROMOTED","queueType":"RANKED_SOLO_5x5"}]'}}],T=[...K];var v=["load","loadend","timeout","error","readystatechange","abort"],E="__origin_xhr";function O(e,t){var n={};for(var u in e)n[u]=e[u];return n.target=n.currentTarget=t,n}function _(e,t){t=t||window;var n=t.XMLHttpRequest;t.XMLHttpRequest=function(){for(var i=new n,c=0;c<v.length;++c){var l="on"+v[c];i[l]===void 0&&(i[l]=null)}for(var h in i){var y="";try{y=typeof i[h]}catch{}y==="function"?this[h]=a(h):h!==E&&Object.defineProperty(this,h,{get:u(h),set:d(h),enumerable:!0})}var r=this;i.getProxy=function(){return r},this[E]=i},Object.assign(t.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4});function u(i){return function(){var c=this.hasOwnProperty(i+"_")?this[i+"_"]:this[E][i],l=(e[i]||{}).getter;return l&&l(c,this)||c}}function d(i){return function(c){var l=this[E],h=this,y=e[i];if(i.substring(0,2)==="on")h[i+"_"]=c,l[i]=function(o){o=O(o,h);var s=e[i]&&e[i].call(h,l,o);s||c.call(h,o)};else{var r=(y||{}).setter;c=r&&r(c,h)||c,this[i+"_"]=c;try{l[i]=c}catch{}}}}function a(i){return function(){var c=[].slice.call(arguments);if(e[i]){var l=e[i].call(this,c,this[E]);if(l)return l}return this[E][i].apply(this[E],c)}}function g(){t.XMLHttpRequest=n,n=void 0}return{originXhr:n,unHook:g}}var U=v[0],A=v[1],G=v[2],F=v[3],b=v[4],q=v[5],H="prototype";function N(e,t){return t=t||window,Y(e,t)}function V(e){return e.replace(/^\s+|\s+$/g,"")}function k(e){return e.watcher||(e.watcher=document.createElement("a"))}function R(e,t){var n=e.getProxy(),u="on"+t+"_",d=O({type:t},n);n[u]&&n[u](d);var a;typeof Event=="function"?a=new Event(t,{bubbles:!1}):(a=document.createEvent("Event"),a.initEvent(t,!1,!0)),k(e).dispatchEvent(a)}function P(e){this.xhr=e,this.xhrProxy=e.getProxy()}P[H]=Object.create({resolve:function(t){var n=this.xhrProxy,u=this.xhr;n.readyState=4,u.resHeader=t.headers,n.response=n.responseText=t.response,n.statusText=t.statusText,n.status=t.status,R(u,b),R(u,U),R(u,A)},reject:function(t){this.xhrProxy.status=0,R(this.xhr,t.type),R(this.xhr,A)}});function C(e){function t(n){P.call(this,n)}return t[H]=Object.create(P[H]),t[H].next=e,t}var W=C(function(e){var t=this.xhr;e=e||t.config,t.withCredentials=e.withCredentials,t.open(e.method,e.url,e.async!==!1,e.user,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);t.send(e.body)}),B=C(function(e){this.resolve(e)}),$=C(function(e){this.reject(e)});function Y(e,t){var n=e.onRequest,u=e.onResponse,d=e.onError;function a(r,o){var s=new B(r),p=o.responseType,f=!p||p==="text"||p==="json"?o.responseText:o.response,m={response:f,status:o.status,statusText:o.statusText,config:r.config,headers:r.resHeader||r.getAllResponseHeaders().split(`\r
`).reduce(function(S,I){if(I==="")return S;var w=I.split(":");return S[w.shift()]=V(w.join(":")),S},{})};if(!u)return s.resolve(m);u(m,s)}function g(r,o,s,p){var f=new $(r);s={config:r.config,error:s,type:p},d?d(s,f):f.next(s)}function i(){return!0}function c(r){return function(o,s){return g(o,this,s,r),!0}}function l(r,o){return r.readyState===4&&r.status!==0?a(r,o):r.readyState!==4&&R(r,b),!0}var{originXhr:h,unHook:y}=_({onload:i,onloadend:i,onerror:c(F),ontimeout:c(G),onabort:c(q),onreadystatechange:function(r){return l(r,this)},open:function(o,s){var p=this,f=s.config={headers:{}};f.method=o[0],f.url=o[1],f.async=o[2],f.user=o[3],f.password=o[4],f.xhr=s;var m="on"+b;if(s[m]||(s[m]=function(){return l(s,p)}),n)return!0},send:function(r,o){var s=o.config;if(s.withCredentials=o.withCredentials,s.body=r[0],n){var p=function(){n(s,new W(o))};return s.async===!1?p():setTimeout(p),!0}},setRequestHeader:function(r,o){if(o.config.headers[r[0].toLowerCase()]=r[1],n)return!0},addEventListener:function(r,o){var s=this;if(v.indexOf(r[0])!==-1){var p=r[1];return k(o).addEventListener(r[0],function(f){var m=O(f,s);m.type=r[0],m.isTrusted=!0,p.call(s,m)}),!0}},getAllResponseHeaders:function(r,o){var s=o.resHeader;if(s){var p="";for(var f in s)p+=f+": "+s[f]+`\r
`;return p}},getResponseHeader:function(r,o){var s=o.resHeader;if(s)return s[(r[0]||"").toLowerCase()]}},t);return{originXhr:h,unProxy:y}}var M=Symbol("WRAPPED");function x(e,t,n){if(!e||typeof e[t]!="function"||e[t][M])return;let u=e[t];e[t]=function(...d){return n.call(this,(...a)=>u&&u.apply(this,a),d)},e[t][M]=!0}var X=e=>{x(e.Component,"extend",function(t,n){let u=t(...n),d=n.filter(a=>typeof a=="object"&&a.classNames&&Array.isArray(a.classNames)).map(a=>a.classNames.join(" "));return d.length&&L.filter(a=>a.matcher===d[0]).forEach(a=>{let g=a.mixin;typeof g=="function"&&(u=u.extend(g(e,n))),a.wraps&&a.wraps.length>0&&a.wraps.forEach(i=>{x(u.proto(),i.name,i.replacement)})}),u})},j=()=>{N({onRequest:(e,t)=>{T.filter(n=>typeof n.matcher=="string"&&n.matcher===e.url).forEach(n=>{n.preSend(e)}),t.next(e)},onResponse:(e,t)=>{T.filter(n=>typeof n.matcher=="string"&&n.matcher===e.config.url).forEach(n=>{n.postSend(e)}),t.next(e)}})};function ce(e){e.rcp.postInit("rcp-fe-lol-l10n",t=>{j()}),e.rcp.postInit("rcp-fe-ember-libs",async t=>{x(t,"getEmber",function(n,u){return n(...u).then(a=>(X(a),a))})})}export{ce as init};
